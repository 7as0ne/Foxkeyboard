
package unicode.sinhala.keyboard

import android.content.Context
import android.content.SharedPreferences

object EmojiData {
    val categories = mutableListOf("Recent", "Smileys", "People", "Animals", "Food", "Objects", "Symbols", "Flags")

    val emojis = mutableMapOf(
        "Recent" to mutableListOf<String>(),

        "Smileys" to listOf(
            "ğŸ˜€","ğŸ˜ƒ","ğŸ˜„","ğŸ˜","ğŸ˜†","ğŸ˜…","ğŸ¤£","ğŸ˜‚","ğŸ™‚","ğŸ™ƒ","ğŸ˜‰","ğŸ˜Š","ğŸ˜‡","ğŸ¥°","ğŸ˜","ğŸ¤©","ğŸ˜˜","ğŸ˜—","â˜º","ğŸ˜š","ğŸ˜™",
            "ğŸ¥²","ğŸ˜‹","ğŸ˜›","ğŸ˜œ","ğŸ¤ª","ğŸ˜","ğŸ¤‘","ğŸ¤—","ğŸ¤­","ğŸ¤«","ğŸ¤”","ğŸ¤","ğŸ¤¨","ğŸ˜","ğŸ˜‘","ğŸ˜¶","ğŸ˜","ğŸ˜’","ğŸ™„","ğŸ˜¬","ğŸ¤¥","ğŸ˜Œ",
            "ğŸ˜”","ğŸ˜ª","ğŸ¤¤","ğŸ˜´","ğŸ˜·","ğŸ¤’","ğŸ¤•","ğŸ¤¢","ğŸ¤®","ğŸ¤§","ğŸ¥µ","ğŸ¥¶","ğŸ¥´","ğŸ˜µ","ğŸ¤¯","ğŸ¤ ","ğŸ¥³","ğŸ˜","ğŸ¤“","ğŸ§","ğŸ˜•",
            "ğŸ˜Ÿ","ğŸ™","â˜¹","ğŸ˜®","ğŸ˜¯","ğŸ˜²","ğŸ˜³","ğŸ¥º","ğŸ˜¦","ğŸ˜§","ğŸ˜¨","ğŸ˜°","ğŸ˜¥","ğŸ˜¢","ğŸ˜­","ğŸ˜±","ğŸ˜–","ğŸ˜£","ğŸ˜","ğŸ˜“","ğŸ˜©",
            "ğŸ˜«","ğŸ¥±","ğŸ˜¤","ğŸ˜¡","ğŸ˜ ","ğŸ¤¬","ğŸ˜ˆ","ğŸ‘¿","ğŸ’€","â˜ ","ğŸ’©","ğŸ¤¡","ğŸ‘¹","ğŸ‘º","ğŸ‘»","ğŸ‘½","ğŸ‘¾","ğŸ¤–",
            "ğŸ« ","ğŸ«¡","ğŸ«¢","ğŸ«£","ğŸ«¤","ğŸ«¥","ğŸ¥¹","ğŸ«¶","ğŸ«°",
            "ğŸ˜º","ğŸ˜¸","ğŸ˜¹","ğŸ˜»","ğŸ˜¼","ğŸ˜½","ğŸ™€","ğŸ˜¿","ğŸ˜¾"
        ),

        "People" to listOf(
            "ğŸ‘‹","ğŸ¤š","ğŸ–","âœ‹","ğŸ––","ğŸ‘Œ","ğŸ¤Œ","ğŸ¤","âœŒ","ğŸ¤","ğŸ¤Ÿ","ğŸ¤˜","ğŸ¤™","ğŸ‘ˆ","ğŸ‘‰","ğŸ‘†","ğŸ–•","ğŸ‘‡","â˜","ğŸ‘","ğŸ‘",
            "âœŠ","ğŸ‘Š","ğŸ¤›","ğŸ¤œ","ğŸ‘","ğŸ™Œ","ğŸ‘","ğŸ¤²","ğŸ¤","ğŸ«±â€ğŸ«²","ğŸ™","âœ","ğŸ’…","ğŸ¤³","ğŸ’ª","ğŸ¦¾","ğŸ¦¿","ğŸ¦µ","ğŸ¦¶","ğŸ‘‚","ğŸ¦»","ğŸ‘ƒ",
            "ğŸ§ ","ğŸ¦·","ğŸ¦´","ğŸ‘€","ğŸ‘","ğŸ‘…","ğŸ‘„","ğŸ’‹","ğŸ©¸",
            "ğŸ«³","ğŸ«´","ğŸ«µ",
            "ğŸ‘¶","ğŸ‘§","ğŸ§’","ğŸ‘¦","ğŸ‘©","ğŸ§‘","ğŸ‘¨",
            "ğŸ‘©â€ğŸ¦±","ğŸ§‘â€ğŸ¦±","ğŸ‘¨â€ğŸ¦±","ğŸ‘©â€ğŸ¦°","ğŸ§‘â€ğŸ¦°","ğŸ‘¨â€ğŸ¦°",
            "ğŸ‘±â€â™€ï¸","ğŸ‘±","ğŸ‘±â€â™‚ï¸",
            "ğŸ‘©â€ğŸ¦³","ğŸ§‘â€ğŸ¦³","ğŸ‘¨â€ğŸ¦³",
            "ğŸ‘©â€ğŸ¦²","ğŸ§‘â€ğŸ¦²","ğŸ‘¨â€ğŸ¦²","ğŸ§”",
            "ğŸ‘µ","ğŸ§“","ğŸ‘´","ğŸ‘²","ğŸ‘³â€â™€ï¸","ğŸ‘³","ğŸ‘³â€â™‚ï¸","ğŸ§•","ğŸ‘¼","ğŸ‘¸","ğŸ¤´","ğŸ‘°","ğŸ¤µ",
            "ğŸ™‡â€â™€ï¸","ğŸ™‡","ğŸ™‡â€â™‚ï¸","ğŸ’â€â™€ï¸","ğŸ’","ğŸ’â€â™‚ï¸",
            "ğŸ™…â€â™€ï¸","ğŸ™…","ğŸ™…â€â™‚ï¸","ğŸ™†â€â™€ï¸","ğŸ™†","ğŸ™†â€â™‚ï¸",
            "ğŸ¤·â€â™€ï¸","ğŸ¤·","ğŸ¤·â€â™‚ï¸","ğŸ™‹â€â™€ï¸","ğŸ™‹","ğŸ™‹â€â™‚ï¸",
            "ğŸ§â€â™€ï¸","ğŸ§","ğŸ§â€â™‚ï¸","ğŸ¤¦â€â™€ï¸","ğŸ¤¦","ğŸ¤¦â€â™‚ï¸",
            "ğŸ§â€â™€ï¸","ğŸ§","ğŸ§â€â™‚ï¸","ğŸ§â€â™€ï¸","ğŸ§","ğŸ§â€â™‚ï¸",
            "ğŸš¶â€â™€ï¸","ğŸš¶","ğŸš¶â€â™‚ï¸","ğŸƒâ€â™€ï¸","ğŸƒ","ğŸƒâ€â™‚ï¸",
            "ğŸ’ƒ","ğŸ•º",
            "ğŸ‘«","ğŸ‘­","ğŸ‘¬","ğŸ’‘","ğŸ’",
            "ğŸ‘ª","ğŸ§‘â€ğŸ§‘â€ğŸ§’","ğŸ§‘â€ğŸ§‘â€ğŸ§’â€ğŸ§’"
        ),

        "Animals" to listOf(
            "ğŸ¶","ğŸ•","ğŸ¦®","ğŸ•â€ğŸ¦º","ğŸ©","ğŸº","ğŸ¦Š","ğŸ¦","ğŸ±","ğŸˆ","ğŸ¦","ğŸ¯","ğŸ…","ğŸ†","ğŸ´","ğŸ","ğŸ¦„","ğŸ¦“","ğŸ¦Œ","ğŸ®",
            "ğŸ‚","ğŸƒ","ğŸ„","ğŸ·","ğŸ–","ğŸ—","ğŸ½","ğŸ","ğŸ‘","ğŸ","ğŸª","ğŸ«","ğŸ¦™","ğŸ¦’","ğŸ˜","ğŸ¦","ğŸ¦›","ğŸ­","ğŸ","ğŸ€","ğŸ¹","ğŸ°",
            "ğŸ‡","ğŸ¿","ğŸ¦”","ğŸ¦‡","ğŸ»","ğŸ¨","ğŸ¼","ğŸ¦¥","ğŸ¦¦","ğŸ¦¨","ğŸ¦˜","ğŸ¦¡","ğŸ«","ğŸ«","ğŸ¾",
            "ğŸ¦ƒ","ğŸ”","ğŸ“","ğŸ£","ğŸ¤","ğŸ¥","ğŸ¦","ğŸ§","ğŸ•Š","ğŸ¦…","ğŸ¦†","ğŸ¦¢","ğŸ¦‰","ğŸ¦©","ğŸ¦š","ğŸ¦œ","ğŸª¿",
            "ğŸ¸","ğŸŠ","ğŸ¢","ğŸ¦","ğŸ","ğŸ²","ğŸ‰","ğŸ¦•","ğŸ¦–",
            "ğŸ³","ğŸ‹","ğŸ¬","ğŸŸ","ğŸ ","ğŸ¡","ğŸ¦ˆ","ğŸ™","ğŸš","ğŸŒ",
            "ğŸ¦‹","ğŸ›","ğŸœ","ğŸ","ğŸ","ğŸ¦—","ğŸ•·","ğŸ•¸","ğŸ¦‚","ğŸ¦Ÿ","ğŸ¦ ","ğŸª¼","ğŸ«§"
        ),

        "Food" to listOf(
            "ğŸ‡","ğŸˆ","ğŸ‰","ğŸŠ","ğŸ‹","ğŸŒ","ğŸ","ğŸ¥­","ğŸ","ğŸ","ğŸ","ğŸ‘","ğŸ’","ğŸ“","ğŸ¥","ğŸ…","ğŸ¥¥","ğŸ¥‘","ğŸ†","ğŸ¥”","ğŸ¥•",
            "ğŸŒ½","ğŸŒ¶","ğŸ¥’","ğŸ¥¬","ğŸ¥¦","ğŸ§„","ğŸ§…","ğŸ„","ğŸ¥œ","ğŸŒ°","ğŸ","ğŸ¥","ğŸ¥–","ğŸ¥¨","ğŸ¥¯","ğŸ¥","ğŸ§‡","ğŸ§€","ğŸ–","ğŸ—","ğŸ¥©",
            "ğŸ¥“","ğŸ”","ğŸŸ","ğŸ•","ğŸŒ­","ğŸ¥ª","ğŸŒ®","ğŸŒ¯","ğŸ¥™","ğŸ§†","ğŸ¥š","ğŸ³","ğŸ¥˜","ğŸ²","ğŸ¥£","ğŸ¥—","ğŸ¿","ğŸ§ˆ","ğŸ§‚","ğŸ¥«",
            "ğŸ«‘","ğŸ«’","ğŸ«“","ğŸ«•","ğŸ«”","ğŸ«˜","ğŸ«™",
            "ğŸ¦","ğŸ§","ğŸ¨","ğŸ©","ğŸª","ğŸ‚","ğŸ°","ğŸ§","ğŸ¥§","ğŸ«","ğŸ¬","ğŸ­","ğŸ®","ğŸ¯",
            "ğŸ¼","ğŸ¥›","â˜•","ğŸµ","ğŸ¶","ğŸ¾","ğŸ·","ğŸ¸","ğŸ¹","ğŸº","ğŸ»","ğŸ¥‚","ğŸ¥ƒ","ğŸ¥¤","ğŸ§ƒ","ğŸ§‰","ğŸ§Š"
        ),

        "Objects" to listOf(
            "âŒš","ğŸ“±","ğŸ“²","ğŸ’»","âŒ¨","ğŸ–¥","ğŸ–¨","ğŸ–±","ğŸ–²","ğŸ•¹","ğŸ—œ","ğŸ’½","ğŸ’¾","ğŸ’¿","ğŸ“€","ğŸ“¼",
            "ğŸ“·","ğŸ“¸","ğŸ“¹","ğŸ¥","ğŸ“½","ğŸ",
            "ğŸ“","â˜","ğŸ“Ÿ","ğŸ“ ","ğŸ“º","ğŸ“»","ğŸ™","ğŸš","ğŸ›",
            "ğŸ§­","â±","â²","â°","ğŸ•°","âŒ›","â³","ğŸ“¡","ğŸ”‹","ğŸª«","ğŸ”Œ","ğŸ’¡","ğŸ”¦","ğŸ•¯","ğŸª”","ğŸ§¯","ğŸ›¢",
            "ğŸ’¸","ğŸ’µ","ğŸ’´","ğŸ’¶","ğŸ’·","ğŸ’°","ğŸ’³","ğŸ’","âš–",
            "ğŸ§°","ğŸ”§","ğŸ”¨","âš’","ğŸ› ","â›","ğŸ”©","âš™","ğŸ§±","â›“","ğŸ§²",
            "ğŸ”«","ğŸ’£","ğŸ§¨","ğŸª“","ğŸ”ª","ğŸ—¡","âš”","ğŸ›¡",
            "ğŸš¬","âš°","âš±","ğŸº","ğŸ”®","ğŸ“¿","ğŸ§¿","ğŸª¬","ğŸª©",
            "ğŸ©¹","ğŸ©º","ğŸ’Š","ğŸ’‰","ğŸ§¬","ğŸ§«","ğŸ§ª","ğŸŒ¡",
            "ğŸ§¹","ğŸ§º","ğŸ§»","ğŸš½","ğŸš¿","ğŸ›","ğŸ§¼","ğŸª’","ğŸ§½","ğŸ§´",
            "ğŸª‘","ğŸ›‹","ğŸ›","ğŸ›Œ","ğŸ§¸","ğŸ–¼","ğŸ›","ğŸ›’","ğŸ","ğŸˆ","ğŸ€","ğŸ‰","ğŸ§§",
            "ğŸ”‘","ğŸ—","ğŸšª","ğŸ›œ","ğŸªª"
        ),

        "Symbols" to listOf(
            // Hearts & emotions
            "â¤","ğŸ§¡","ğŸ’›","ğŸ’š","ğŸ’™","ğŸ’œ","ğŸ¤","ğŸ–¤","ğŸ¤","ğŸ©·","ğŸ©µ","ğŸ©¶",
            "ğŸ’”","â£","ğŸ’•","ğŸ’","ğŸ’“","ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’Ÿ",

            // Fire / energy / nature
            "ğŸ”¥","ğŸ’¥","âš¡","âœ¨","ğŸŒŸ","â­","ğŸŒˆ","â˜€","ğŸŒ¤","â›…","ğŸŒ¥","â˜",
            "ğŸŒ§","â›ˆ","ğŸŒ©","ğŸŒ¨","â„","â˜ƒ","â›„","ğŸ’¨","ğŸŒª","ğŸŒŠ","ğŸ’§","ğŸ’¦",

            // Religious / spiritual
            "â˜®","âœ","â˜ª","ğŸ•‰","â˜¸","âœ¡","ğŸ”¯","ğŸ•","â˜¯","â˜¦","ğŸ›",

            // Zodiac
            "â™ˆ","â™‰","â™Š","â™‹","â™Œ","â™","â™","â™","â™","â™‘","â™’","â™“",

            // Warning / signs
            "âš›","â˜¢","â˜£","âš ","ğŸš¨","â›”","ğŸš«","âŒ","â­•","ğŸ›‘","ğŸ”",

            // Approval / marks
            "âœ…","âœ”","âœ–","â•","â–","â—","â°","â¿","ã€½","ğŸ’¯","ğŸ’¢",

            // Recycling / eco
            "â™»","ğŸ”±","âšœ","ğŸ”°","ğŸ’¹",

            // Sleep / misc
            "ğŸ’¤","ğŸŒ€","ğŸŒ","ğŸ’ ","â“‚",

            // New gesture symbols
            "ğŸ«°","ğŸ«¶"
        ),

        "Flags" to listOf(
            "ğŸ‡±ğŸ‡°","ğŸ³","ğŸ´","ğŸ","ğŸš©","ğŸŒ","ğŸ‡ºğŸ‡³",

            // Asia
            "ğŸ‡¦ğŸ‡«","ğŸ‡¦ğŸ‡²","ğŸ‡¦ğŸ‡¿","ğŸ‡§ğŸ‡©","ğŸ‡§ğŸ‡¹","ğŸ‡§ğŸ‡³","ğŸ‡°ğŸ‡­","ğŸ‡¨ğŸ‡³","ğŸ‡¬ğŸ‡ª","ğŸ‡®ğŸ‡³","ğŸ‡®ğŸ‡©","ğŸ‡®ğŸ‡·","ğŸ‡®ğŸ‡¶","ğŸ‡®ğŸ‡±",
            "ğŸ‡¯ğŸ‡µ","ğŸ‡¯ğŸ‡´","ğŸ‡°ğŸ‡¿","ğŸ‡°ğŸ‡¼","ğŸ‡°ğŸ‡¬","ğŸ‡±ğŸ‡¦","ğŸ‡±ğŸ‡§","ğŸ‡²ğŸ‡¾","ğŸ‡²ğŸ‡»","ğŸ‡²ğŸ‡³","ğŸ‡²ğŸ‡²","ğŸ‡³ğŸ‡µ","ğŸ‡°ğŸ‡µ",
            "ğŸ‡´ğŸ‡²","ğŸ‡µğŸ‡°","ğŸ‡µğŸ‡¸","ğŸ‡µğŸ‡­","ğŸ‡¶ğŸ‡¦","ğŸ‡¸ğŸ‡¦","ğŸ‡¸ğŸ‡¬","ğŸ‡°ğŸ‡·","ğŸ‡±ğŸ‡°","ğŸ‡¸ğŸ‡¾","ğŸ‡¹ğŸ‡¼","ğŸ‡¹ğŸ‡¯",
            "ğŸ‡¹ğŸ‡­","ğŸ‡¹ğŸ‡±","ğŸ‡¹ğŸ‡·","ğŸ‡¹ğŸ‡²","ğŸ‡¦ğŸ‡ª","ğŸ‡ºğŸ‡¿","ğŸ‡»ğŸ‡³","ğŸ‡¾ğŸ‡ª",

            // Europe
            "ğŸ‡¦ğŸ‡±","ğŸ‡¦ğŸ‡©","ğŸ‡¦ğŸ‡¹","ğŸ‡§ğŸ‡¾","ğŸ‡§ğŸ‡ª","ğŸ‡§ğŸ‡¦","ğŸ‡§ğŸ‡¬","ğŸ‡­ğŸ‡·","ğŸ‡¨ğŸ‡¿","ğŸ‡©ğŸ‡°","ğŸ‡ªğŸ‡ª","ğŸ‡«ğŸ‡®","ğŸ‡«ğŸ‡·",
            "ğŸ‡©ğŸ‡ª","ğŸ‡¬ğŸ‡·","ğŸ‡­ğŸ‡º","ğŸ‡®ğŸ‡¸","ğŸ‡®ğŸ‡ª","ğŸ‡®ğŸ‡¹","ğŸ‡±ğŸ‡»","ğŸ‡±ğŸ‡®","ğŸ‡±ğŸ‡¹","ğŸ‡±ğŸ‡º","ğŸ‡²ğŸ‡¹","ğŸ‡²ğŸ‡©",
            "ğŸ‡²ğŸ‡¨","ğŸ‡²ğŸ‡ª","ğŸ‡³ğŸ‡±","ğŸ‡²ğŸ‡°","ğŸ‡³ğŸ‡´","ğŸ‡µğŸ‡±","ğŸ‡µğŸ‡¹","ğŸ‡·ğŸ‡´","ğŸ‡·ğŸ‡º","ğŸ‡¸ğŸ‡²","ğŸ‡·ğŸ‡¸","ğŸ‡¸ğŸ‡°",
            "ğŸ‡¸ğŸ‡®","ğŸ‡ªğŸ‡¸","ğŸ‡¸ğŸ‡ª","ğŸ‡¨ğŸ‡­","ğŸ‡ºğŸ‡¦","ğŸ‡¬ğŸ‡§","ğŸ‡»ğŸ‡¦","ğŸ‡ªğŸ‡º",

            // Africa
            "ğŸ‡©ğŸ‡¿","ğŸ‡¦ğŸ‡´","ğŸ‡§ğŸ‡¯","ğŸ‡§ğŸ‡¼","ğŸ‡§ğŸ‡«","ğŸ‡§ğŸ‡®","ğŸ‡¨ğŸ‡²","ğŸ‡¨ğŸ‡»","ğŸ‡¨ğŸ‡«","ğŸ‡¹ğŸ‡©","ğŸ‡°ğŸ‡²","ğŸ‡¨ğŸ‡¬","ğŸ‡¨ğŸ‡©",
            "ğŸ‡¨ğŸ‡®","ğŸ‡©ğŸ‡¯","ğŸ‡ªğŸ‡¬","ğŸ‡¬ğŸ‡¶","ğŸ‡ªğŸ‡·","ğŸ‡¸ğŸ‡¿","ğŸ‡ªğŸ‡¹","ğŸ‡¬ğŸ‡¦","ğŸ‡¬ğŸ‡²","ğŸ‡¬ğŸ‡­","ğŸ‡¬ğŸ‡³","ğŸ‡¬ğŸ‡¼",
            "ğŸ‡°ğŸ‡ª","ğŸ‡±ğŸ‡¸","ğŸ‡±ğŸ‡·","ğŸ‡±ğŸ‡¾","ğŸ‡²ğŸ‡¬","ğŸ‡²ğŸ‡¼","ğŸ‡²ğŸ‡±","ğŸ‡²ğŸ‡·","ğŸ‡²ğŸ‡º","ğŸ‡²ğŸ‡¦","ğŸ‡²ğŸ‡¿","ğŸ‡³ğŸ‡¦",
            "ğŸ‡³ğŸ‡ª","ğŸ‡³ğŸ‡¬","ğŸ‡·ğŸ‡¼","ğŸ‡¸ğŸ‡¹","ğŸ‡¸ğŸ‡³","ğŸ‡¸ğŸ‡¨","ğŸ‡¸ğŸ‡±","ğŸ‡¸ğŸ‡´","ğŸ‡¿ğŸ‡¦","ğŸ‡¸ğŸ‡¸","ğŸ‡¸ğŸ‡©","ğŸ‡¹ğŸ‡¿",
            "ğŸ‡¹ğŸ‡¬","ğŸ‡¹ğŸ‡³","ğŸ‡ºğŸ‡¬","ğŸ‡¿ğŸ‡²","ğŸ‡¿ğŸ‡¼",

            // Americas
            "ğŸ‡¦ğŸ‡¬","ğŸ‡¦ğŸ‡·","ğŸ‡§ğŸ‡¸","ğŸ‡§ğŸ‡§","ğŸ‡§ğŸ‡¿","ğŸ‡§ğŸ‡´","ğŸ‡§ğŸ‡·","ğŸ‡¨ğŸ‡¦","ğŸ‡¨ğŸ‡±","ğŸ‡¨ğŸ‡´","ğŸ‡¨ğŸ‡·","ğŸ‡¨ğŸ‡º",
            "ğŸ‡©ğŸ‡²","ğŸ‡©ğŸ‡´","ğŸ‡ªğŸ‡¨","ğŸ‡¸ğŸ‡»","ğŸ‡¬ğŸ‡©","ğŸ‡¬ğŸ‡¹","ğŸ‡¬ğŸ‡¾","ğŸ‡­ğŸ‡¹","ğŸ‡­ğŸ‡³","ğŸ‡¯ğŸ‡²","ğŸ‡²ğŸ‡½","ğŸ‡³ğŸ‡®",
            "ğŸ‡µğŸ‡¦","ğŸ‡µğŸ‡¾","ğŸ‡µğŸ‡ª","ğŸ‡¸ğŸ‡·","ğŸ‡¹ğŸ‡¹","ğŸ‡ºğŸ‡¸","ğŸ‡ºğŸ‡¾","ğŸ‡»ğŸ‡ª",

            // Oceania
            "ğŸ‡¦ğŸ‡º","ğŸ‡«ğŸ‡¯","ğŸ‡°ğŸ‡®","ğŸ‡²ğŸ‡­","ğŸ‡«ğŸ‡²","ğŸ‡³ğŸ‡·","ğŸ‡³ğŸ‡¿","ğŸ‡µğŸ‡¼","ğŸ‡µğŸ‡¬","ğŸ‡¸ğŸ‡§","ğŸ‡¹ğŸ‡´","ğŸ‡¹ğŸ‡»",
            "ğŸ‡»ğŸ‡º","ğŸ‡¼ğŸ‡¸"
        )

    )


    private const val PREF_KEY_RECENT = "recent_emojis"

    fun loadRecentEmojis(context: Context) {
        val prefs = context.getSharedPreferences("prefs", Context.MODE_PRIVATE)
        val saved = prefs.getString(PREF_KEY_RECENT, "") ?: ""
        if (saved.isNotEmpty()) {
            emojis["Recent"] = saved.split(",").toMutableList()
        }
    }

    fun addRecentEmoji(context: Context, emoji: String) {
        val recent = emojis["Recent"] as MutableList<String>
        // Remove if existing to move to front
        recent.remove(emoji)
        recent.add(0, emoji)
        // Keep only top 30
        if (recent.size > 30) {
            recent.removeAt(recent.size - 1)
        }
        
        saveRecentEmojis(context, recent)
    }

    private fun saveRecentEmojis(context: Context, recent: List<String>) {
        val prefs = context.getSharedPreferences("prefs", Context.MODE_PRIVATE)
        prefs.edit().putString(PREF_KEY_RECENT, recent.joinToString(",")).apply()
    }
}
